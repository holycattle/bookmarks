LOTS of refactoring. There's crap in $rootScope and lots of stuff that can be directives.
